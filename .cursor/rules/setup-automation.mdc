---
description: note MCP Server ã®è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ«ãƒ¼ãƒ«
globs: ["**/*"]
alwaysApply: true
---

# note MCP Server ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è‡ªå‹•åŒ–ãƒ«ãƒ¼ãƒ«

ã“ã®ãƒ«ãƒ¼ãƒ«ã¯ã€CursorãŒè‡ªå‹•çš„ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®æŒ‡ç¤ºã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æŒ‡ç¤ºã®æ¤œå‡º

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»¥ä¸‹ã®ã‚ˆã†ãªæŒ‡ç¤ºã‚’ã—ãŸå ´åˆã€è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã™ã‚‹ï¼š

- ã€Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã€
- ã€Œè¨­å®šã—ã¦ã€
- ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€
- ã€Œç’°å¢ƒæ§‹ç¯‰ã—ã¦ã€
- ã€Œnote MCP ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã€
- ã€ŒåˆæœŸè¨­å®šã‚’ã—ã¦ã€

## ğŸš€ æ¨å¥¨: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨

**æœ€ã‚‚ç¢ºå®Ÿãªæ–¹æ³•ã¯ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã™ã€‚**

### Macã®å ´åˆ
```bash
./scripts/setup.sh
```

### Windowsã®å ´åˆ
```powershell
.\scripts\setup.ps1
```

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ­£å¸¸ã«å®Œäº†ã—ãŸã‚‰ã€Cursorã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

> âš ï¸ **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ**: `docs/SETUP_ERRORS_AND_SOLUTIONS.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ”§ æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒä½¿ãˆãªã„å ´åˆï¼‰

### Phase 1: ç’°å¢ƒç¢ºèªï¼ˆå¿…é ˆï¼‰

```bash
# Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
node --version
# â†’ v18.0.0 ä»¥ä¸Šã§ã‚ã‚‹ã“ã¨

# npm ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
npm --version
# â†’ v9.0.0 ä»¥ä¸Šã§ã‚ã‚‹ã“ã¨

# Git ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
git --version
```

**åˆ¤å®šåŸºæº–**:
- Node.js v18æœªæº€ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’æ¡ˆå†…
- Node.js æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’æ¡ˆå†…

**Windowsã®å ´åˆã¯æ–‡å­—åŒ–ã‘é˜²æ­¢ã®ãŸã‚ã€æœ€åˆã«ä»¥ä¸‹ã‚’å®Ÿè¡Œ**:
```powershell
# PowerShellã§UTF-8ã‚’æœ‰åŠ¹åŒ–
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
$OutputEncoding = [System.Text.Encoding]::UTF8
chcp 65001
```

### Phase 2: ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
```

**æˆåŠŸåˆ¤å®š**: `added XXX packages` ãŒå‡ºåŠ›ã•ã‚Œã‚‹

**å¤±æ•—æ™‚ã®å¯¾å‡¦**:
```bash
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### Phase 3: Playwright ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Playwright ãƒ–ãƒ©ã‚¦ã‚¶ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
npx playwright install
```

**Linux/WSL ã®å ´åˆã¯è¿½åŠ å®Ÿè¡Œ**:
```bash
npx playwright install-deps
```

### Phase 4: ãƒ“ãƒ«ãƒ‰

```bash
# TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
npm run build
```

**æˆåŠŸåˆ¤å®š**: `build/note-mcp-server.js` ãŒå­˜åœ¨ã™ã‚‹

**ç¢ºèªã‚³ãƒãƒ³ãƒ‰**:
```bash
ls -la build/note-mcp-server.js
```

### Phase 5: ç’°å¢ƒå¤‰æ•°è¨­å®š

```bash
# .env.sample ã‹ã‚‰ .env ã‚’ç”Ÿæˆ
cp .env.sample .env
```

> **Note**: èªè¨¼æƒ…å ±ã®æ‰‹å‹•è¨­å®šã¯ä¸è¦ã§ã™ã€‚
> Cursorå†èµ·å‹•å¾Œã€åˆå›ã®MCPãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã€ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨è‡ªå‹•ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå–å¾—ã•ã‚Œã¾ã™ã€‚

### Phase 6: MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹å–å¾—
```bash
pwd
```

#### OSæ¤œå‡º
```bash
uname -s
```
- `Darwin` â†’ macOS
- `Linux` â†’ Linux
- ãã‚Œä»¥å¤– â†’ Windows

#### macOS/Linux ã®å ´åˆ
```bash
mkdir -p ~/.cursor
```

MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `~/.cursor/mcp.json`:
```json
{
  "mcpServers": {
    "note-api": {
      "command": "node",
      "args": ["${PROJECT_PATH}/build/note-mcp-server.js"],
      "env": {}
    }
  }
}
```

#### Windows ã®å ´åˆ

```powershell
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
New-Item -Path "$env:USERPROFILE\.cursor" -ItemType Directory -Force

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹å–å¾—
$projectPath = (Get-Location).Path -replace '\\', '\\\\'

# MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆUTF-8ã§ä¿å­˜ï¼‰
$config = @"
{
  "mcpServers": {
    "note-api": {
      "command": "node",
      "args": ["$projectPath\\build\\note-mcp-server.js"]
    }
  }
}
"@
$config | Out-File -FilePath "$env:USERPROFILE\.cursor\mcp.json" -Encoding utf8
```

**é‡è¦**: ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œã™ã‚‹ã“ã¨

## âœ… å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å¾Œã€ä»¥ä¸‹ã‚’ç¢ºèªï¼š

1. [x] node --version â†’ v18ä»¥ä¸Š
2. [x] npm --version â†’ v9ä»¥ä¸Š
3. [x] npm install â†’ æˆåŠŸ
4. [x] npx playwright install â†’ æˆåŠŸ
5. [x] npm run build â†’ æˆåŠŸ
6. [x] build/note-mcp-server.js â†’ å­˜åœ¨
7. [x] .env â†’ ä½œæˆæ¸ˆã¿
8. [x] ~/.cursor/mcp.json â†’ ä½œæˆæ¸ˆã¿

## ğŸ“ å®Œäº†å ±å‘Šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```
â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢
âœ… ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†

ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿:
- npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- Playwright ãƒ–ãƒ©ã‚¦ã‚¶

ğŸ”¨ ãƒ“ãƒ«ãƒ‰æ¸ˆã¿:
- build/note-mcp-server.js

âš™ï¸ MCPè¨­å®š:
- ~/.cursor/mcp.json ä½œæˆæ¸ˆã¿

ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. Cursor ã‚’å†èµ·å‹•
2. ã€Œnoteã§è¨˜äº‹ã‚’æ¤œç´¢ã—ã¦ã€ã¨è©¦ã™
3. åˆå›ã¯ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã®ã§ note.com ã«ãƒ­ã‚°ã‚¤ãƒ³
4. ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†å¾Œã€è‡ªå‹•ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå–å¾—ã•ã‚Œã¾ã™
â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢
```

## ğŸš¨ ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

### npm install å¤±æ•—

```bash
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### playwright install å¤±æ•—

```bash
npx playwright install-deps
npx playwright install
```

### build å¤±æ•—

```bash
rm -rf node_modules
npm install
npm run build
```

### MCP ãŒèªè­˜ã•ã‚Œãªã„

1. Cursor ã‚’å®Œå…¨çµ‚äº†
2. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª: `cat ~/.cursor/mcp.json`
3. Cursor ã‚’å†èµ·å‹•

## ğŸ“ é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|---------|------|
| `scripts/setup.sh` | Mac/Linux ç”¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ |
| `scripts/setup.ps1` | Windows ç”¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ |
| `docs/SETUP_GUIDE.md` | è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ |
| `docs/CURSOR_AUTO_SETUP.md` | Cursorè‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ |
| `.env.sample` | ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ« |
| `.cursorrules` | Cursorãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« |
